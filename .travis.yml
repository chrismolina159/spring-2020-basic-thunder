os: osx

sudo: true
language: node_js

node_js:
  - node

addons:
  ssh_known_hosts: $PRODUCTION_SERVER
  apt:
    packages:
      - sshpass

notifications:
  email:
    recipients:
      - sylvia.ji@nyu.edu
      - jl8456@nyu.edu
      - cem663@nyu.edu
    on_success: never
    on_failure: always

before_script:
  - cd back-end
  - npm install

script:
  - npm test


deploy:
  - sshpass -p $PRODUCTION_SERVER_PW  ssh $PRODUCTION_SERVER_USER@$PRODUCTION_SERVER
  - ls
